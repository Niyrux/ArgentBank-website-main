swagger: '2.0'
info:
  title: Bank Argent API documentation
  description: Contains all available API endpoints in this codebase
  version: '2.0.0'
  termsOfService: 'http://swagger.io/terms/'
host: localhost:3001
basePath: /api/v1
schemes:
  - http

paths:
  /user/login:
    post:
      tags:
        - User Module
      summary: Login
      description: API for Login
      parameters:
        - in: body
          name: body
          description: Login Payload
          required: true
          schema:
            type: object
            required:
              - email
              - password
            properties:
              email:
                type: string
                example: user@email.com
              password:
                type: string
                example: password
      produces:
        - application/json
      responses:
        '200':
          description: Login Successfully
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 200
              message:
                type: string
                example: Login Successfully
              body:
                type: object
                properties:
                  token:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        '400':
          description: Invalid Fields
        '500':
          description: Internal Server Error

  /user/signup:
    post:
      tags:
        - User Module
      summary: Signup
      description: API for Signup
      parameters:
        - in: body
          name: body
          description: Signup Payload
          required: true
          schema:
            type: object
            required:
              - firstName
              - lastName
              - email
              - password
            properties:
              firstName:
                type: string
                example: Tony
              lastName:
                type: string
                example: Stark
              email:
                type: string
                example: tony@stark.com
              password:
                type: string
                example: password123
      produces:
        - application/json
      responses:
        '200':
          description: Signup Successfully
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 200
              message:
                type: string
                example: Signup Successfully
              body:
                type: object
        '400':
          description: Invalid Fields
        '500':
          description: Internal Server Error

  /user/profile:
    post:
      security:
        - Bearer: []
      tags:
        - User Module
      summary: User Profile API
      description: API for fetching a user profile
      produces:
        - application/json
      responses:
        '200':
          description: User profile retrieved successfully
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 200
              message:
                type: string
                example: User profile retrieved successfully
              body:
                type: object
                properties:
                  id:
                    type: string
                    example: user_123
                  firstName:
                    type: string
                    example: Tony
                  lastName:
                    type: string
                    example: Stark
                  email:
                    type: string
                    example: tony@stark.com
        '400':
          description: Invalid Fields
        '401':
          description: Unauthorized
        '500':
          description: Internal Server Error

    put:
      security:
        - Bearer: []
      tags:
        - User Module
      summary: User Profile API
      description: API for updating a user profile
      parameters:
        - in: body
          name: body
          description: Update user profile attributes
          required: true
          schema:
            type: object
            properties:
              firstName:
                type: string
                example: Tony
              lastName:
                type: string
                example: Stark
      produces:
        - application/json
      responses:
        '200':
          description: User profile updated successfully
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 200
              message:
                type: string
                example: User profile updated successfully
              body:
                type: object
        '400':
          description: Invalid Fields
        '401':
          description: Unauthorized
        '500':
          description: Internal Server Error

  /user/transactions/current-month:
    get:
      security:
        - Bearer: []
      tags:
        - User Module
      summary: Get current month transactions grouped by account
      description: Retrieve all transactions for the current month, grouped by account.
      produces:
        - application/json
      responses:
        '200':
          description: Current month transactions retrieved successfully
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 200
              message:
                type: string
                example: Current month transactions retrieved successfully
              body:
                type: object
                properties:
                  month:
                    type: integer
                    example: 2
                  year:
                    type: integer
                    example: 2026
                  accounts:
                    type: array
                    items:
                      type: object
                      properties:
                        accountId:
                          type: string
                          example: x8349
                        accountName:
                          type: string
                          example: Argent Bank Checking (x8349)
                        balance:
                          type: number
                          format: float
                          example: 2082.79
                        currency:
                          type: string
                          example: USD
                        transactions:
                          type: array
                          items:
                            type: object
                            properties:
                              transactionId:
                                type: string
                                example: t_001
                              date:
                                type: string
                                format: date
                                example: '2026-02-05'
                              description:
                                type: string
                                example: Golden Sun Bakery
                              amount:
                                type: number
                                format: float
                                example: 5.0
                              balance:
                                type: number
                                format: float
                                example: 2082.79
                              transactionType:
                                type: string
                                example: Electronic
                              category:
                                type: string
                                example: Food
                              note:
                                type: string
                                example: Breakfast
        '401':
          description: Unauthorized
        '500':
          description: Internal Server Error

  /user/transactions/{transactionId}:
    get:
      security:
        - Bearer: []
      tags:
        - User Module
      summary: Get transaction details
      description: Retrieve details of a transaction for transaction detail view.
      produces:
        - application/json
      parameters:
        - in: path
          name: transactionId
          type: string
          required: true
          description: Transaction unique identifier
      responses:
        '200':
          description: Transaction details retrieved successfully
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 200
              message:
                type: string
                example: Transaction details retrieved successfully
              body:
                type: object
                properties:
                  transactionId:
                    type: string
                    example: t_001
                  accountId:
                    type: string
                    example: x8349
                  date:
                    type: string
                    format: date
                    example: '2026-02-05'
                  description:
                    type: string
                    example: Golden Sun Bakery
                  amount:
                    type: number
                    format: float
                    example: 5.0
                  balance:
                    type: number
                    format: float
                    example: 2082.79
                  transactionType:
                    type: string
                    example: Electronic
                  category:
                    type: string
                    example: Food
                  note:
                    type: string
                    example: Breakfast
        '401':
          description: Unauthorized
        '404':
          description: Transaction not found
        '500':
          description: Internal Server Error

    post:
      security:
        - Bearer: []
      tags:
        - User Module
      summary: Add transaction information
      description: Add information to a transaction (e.g., category and/or note).
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: transactionId
          type: string
          required: true
          description: Transaction unique identifier
        - in: body
          name: body
          description: Transaction information to add
          required: true
          schema:
            type: object
            properties:
              category:
                type: string
                example: Food
              note:
                type: string
                example: Breakfast
      responses:
        '200':
          description: Transaction information added successfully
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 200
              message:
                type: string
                example: Transaction information added successfully
              body:
                type: object
        '400':
          description: Invalid Fields
        '401':
          description: Unauthorized
        '404':
          description: Transaction not found
        '500':
          description: Internal Server Error

    put:
      security:
        - Bearer: []
      tags:
        - User Module
      summary: Update transaction information
      description: Update information of a transaction (e.g., category and/or note).
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: transactionId
          type: string
          required: true
          description: Transaction unique identifier
        - in: body
          name: body
          description: Transaction information to update
          required: true
          schema:
            type: object
            properties:
              category:
                type: string
                example: Groceries
              note:
                type: string
                example: Courses semaine
      responses:
        '200':
          description: Transaction information updated successfully
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 200
              message:
                type: string
                example: Transaction information updated successfully
              body:
                type: object
        '400':
          description: Invalid Fields
        '401':
          description: Unauthorized
        '404':
          description: Transaction not found
        '500':
          description: Internal Server Error

    delete:
      security:
        - Bearer: []
      tags:
        - User Module
      summary: Delete transaction information
      description: Delete information of a transaction (e.g., category and note reset/removed).
      produces:
        - application/json
      parameters:
        - in: path
          name: transactionId
          type: string
          required: true
          description: Transaction unique identifier
      responses:
        '200':
          description: Transaction information deleted successfully
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 200
              message:
                type: string
                example: Transaction information deleted successfully
              body:
                type: object
        '401':
          description: Unauthorized
        '404':
          description: Transaction not found
        '500':
          description: Internal Server Error
